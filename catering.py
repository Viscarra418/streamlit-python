# -*- coding: utf-8 -*-
"""Untitled3.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/115UAwHu3017oe9SuKOvira95PNmMbIWe
"""

import streamlit as st
import pandas as pd
import numpy as np

menu = {
    "Nasi Goreng": 25000,
    "Mie Goreng": 20000,
    "Ayam Geprek": 30000,
    "Sate Ayam": 35000,
    "Es Teh Manis": 5000,
    "Jus Jeruk": 10000,
}

def tampilkan_menu():
    st.write("Menu Katering:")
    for item, harga in menu.items():
        st.write(f"- {item}: Rp{harga:,}")

def pesan_makanan():
    tampilkan_menu()
    pesanan = {}
    while True:
        item = st.text_input("Masukkan nama makanan (atau ketik 'selesai' untuk selesai): ")
        if item.lower() == "selesai":
            break
        if item in menu:
            jumlah = st.number_input(f"Masukkan jumlah {item}:", min_value=1, step=1)
            pesanan[item] = jumlah
        else:
            st.error("Makanan tidak ditemukan di menu.")
    return pesanan

def hitung_total_harga(pesanan):
    total_harga = 0
    for item, jumlah in pesanan.items():
        total_harga += menu[item] * jumlah
    return total_harga

def tampilkan_pesanan(pesanan):
    st.write("Pesanan Anda:")
    for item, jumlah in pesanan.items():
        st.write(f"- {item} x {jumlah}")
    total_harga = hitung_total_harga(pesanan)
    st.write(f"Total Harga: Rp{total_harga:,}")

def login_admin():
    username = st.text_input("Username:")
    password = st.text_input("Password:", type="password")
    if st.button("Login"):
       if username == "admin" and password == "admin123":
          st.success("Login admin berhasil!")
          return True
       else:
          st.error("Login admin gagal.")
          return False

def menu_admin():
    while True:
        st.write("\nMenu Admin:")
        pilihan = st.radio("Pilihan Anda:", ["Tambah Menu", "Edit Menu", "Hapus Menu", "Logout"])

        if pilihan == "Tambah Menu":
            # Tambahkan logika untuk menambah menu
            pass
        elif pilihan == "Edit Menu":
            # Tambahkan logika untuk mengedit menu
            pass
        elif pilihan == "Hapus Menu":
            # Tambahkan logika untuk menghapus menu
            pass
        elif pilihan == "Logout":
            break
        else:
            st.error("Pilihan tidak valid.")

# Program utama

st.title("Sistem Katering")
pilihan = st.radio("Pilih tipe pengguna:", ("Pengguna", "Admin"))

if pilihan == "Pengguna":
    st.header("Menu Makanan")
    tampilkan_menu()

    st.header("Pesan Makanan")
    pesanan = pesan_makanan()  # Memanggil fungsi untuk memesan makanan

    st.header("Detail Pesanan")
    tampilkan_pesanan(pesanan)  # Memanggil fungsi untuk menampilkan pesanan

elif pilihan == "Admin":
    st.header("Login Admin")
    if login_admin():  # Memanggil fungsi untuk login admin
        menu_admin()  # Memanggil fungsi menu admin jika login berhasil
    else:
        st.error("Login gagal.")